<html lang="en">
<head>
	<title>E-commerce</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Outfit:400,500,600,700,800,900&amp;subset=latin" />
	<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
	<link rel="stylesheet" href="css/styles.css">
	<link rel="icon" type="image/png" sizes="48x48" href="./favicon.png" />
</head>

<body>
	<!-- Placeholder para el header reutilizable -->
    <div id="header-placeholder"></div>

	<section class="position-relative py-14 bg-white overflow-hidden">
		<div class="position-relative container" style="z-index:1;">
			<div class="mb-7 text-center mw-md mx-auto">
				<h2 class="font-heading mb-4 fs-7">Registrate</h2>
			</div>

			<!-- Formulario de registro (Inputs: nombre, email, contraseña)-->
			<form class="mw-sm mx-auto" id="register-form">
				<div class="mb-4 row g-6">
					<div class="col-12">
						<div class="form-group">
							<label class="mb-1 fw-medium text-light-dark" for="nombre">Nombre*</label>
							<input class="form-control text-secondary-dark shadow" id="nombre" name="nombre" type="text" placeholder="Juan Perez" />
						</div>
					</div>
					<div class="col-12">
						<div class="form-group">
							<label class="mb-1 fw-medium text-light-dark" for="email">Email</label>
							<input class="form-control text-secondary-dark shadow" id="email" type="email" placeholder="juanperez@example.com" />
						</div>
					</div>
					<div class="col-12">
						<div class="form-group">
							<label class="mb-1 fw-medium text-light-dark" for="contraseña">Contraseña</label>
							<input class="form-control text-secondary-dark shadow" id="contraseña" type="password" placeholder="********" />
						</div>
					</div>
				</div>
				<div class="mb-6 row align-items-center justify-content-between g-2">
					<div class="col-auto">
						<div class="form-check">
							<input class="form-check-input shadow" id="flexCheckDefault" type="checkbox" />
							<label class="form-check-label fs-13 fw-medium text-light-dark" for="flexCheckDefault">Recordarme</label>
						</div>
					</div>
					<div class="col-auto">
						<a class="fs-13 fw-medium text-success link-success" href="#">¿Olvidaste tu contraseña?</a>
					</div>
				</div>
				<div class="mb-6 row g-4">
					<div class="col-12">
						<button class="btn btn-lg btn-success fs-11 py-3 w-100 text-success-light shadow" type="submit">Registrarse</button>
					</div>
					<div class="col-12">
						<div class="bg-white rounded">
							<a class="btn btn-lg btn-outline-light d-flex flex-wrap align-items-center justify-content-center fs-11 py-3 w-100 text-secondary shadow" href="#"><img class="me-2" src="euphoria-assets/images/sign-up/social.svg" alt="" />
								<span>Iniciar sesión con Google</span>
							</a>
						</div>
					</div>
				</div>
				<p class="mb-0 fs-13 fw-medium text-light-dark text-center">
					<span>¿Ya tienes una cuenta?</span>
					<a class="text-success link-success" href="login.html">Iniciar sesión</a>
				</p>
			</form>
			<!-- Formulario de registro -->
			 
		</div>
	</section>

	<!-- Placeholder para el footer reutilizable -->
    <div id="footer-placeholder"></div>

	<script src="js/header.js"></script>
	<script src="js/logout.js"></script>
	<script src="js/burguer-button.js"></script>
	<script src="js/api.js"></script>
	<script>
		document.getElementById('register-form').addEventListener('submit', async function (event) {
			event.preventDefault();

			const nombre = document.getElementById('nombre').value;
			const email = document.getElementById('email').value;
			const password = document.getElementById('contraseña').value;

			try {
				const response = await fetch('http://12.7.0.0.1:8000/register', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify({
						username: nombre,
						email: email,
						password: password
					}),
				});

				if (response.status === 201) {
					alert('¡Registro exitoso! Ahora puedes iniciar sesión.');
					window.location.href = 'login.html';
				} else {
					const errorData = await response.json();
					alert('Error en el registro: ' + errorData.detail);
				}
			} catch (error) {
				console.error('Error:', error);
				alert('Ocurrió un error al intentar registrarse.');
			}
		});
	</script>
	<script src="js/footer.js"></script>
</body>

</html>